<div *ngIf="!items">
  <div class="loader"></div>
</div>

<div *ngIf="items">
	<!-- No results found -->
	<div class="row" *ngIf="items.length == 0">
		<div class="col-lg-12 text-center">
			<p class="font-italic">No results found.</p>
		</div>
	</div>

	<!-- Search results -->
	<div class="row">
		<!-- Item -->
		<div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-6 mb-4" *ngFor="let item of items | paginate: { itemsPerPage: 20, currentPage: p }">
			<a href="/product/{{item.title_slug}}">
				<div class="img-wrapper" #img (load)="changeOpacity(img)">
					<img 
						src="{{item.images['550px']}}" alt=""
						srcset="{{item.images['550px']}} 550w, {{item.images['300px']}} 300w"
						sizes="(max-width: 576px) 550px, (min-width: 575px) 300px"
						#img (load)="changeOpacity(img)"
			        >
				</div>
			</a>
			<div class="product-info">
				<h5 class="mt-1"><a href="/product/{{item.title_slug}}">{{item.title}}</a></h5>
				<div>
					<span class="reduced-price mr-2">${{item.price | number : '1.2-2'}}</span>
					<del class="previous-price">${{item.previous_price | number : '1.2-2'}}</del>
				</div>
				<button class="btn btn-primary add-to-cart" (click)="addToCart(item)">Add to cart</button>
			</div>
		</div> <!-- End item -->
	</div> <!-- End search results -->
	 
	<!-- Pagination -->
	<div class="row" *ngIf="items.length > 0">
		<div class="col-lg-12 text-center">
			<pagination-controls class="my-pagination" (click)="scrollUp()" (pageChange)="p = $event"></pagination-controls>
		</div>
	</div>
</div>